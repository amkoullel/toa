\documentclass[a4paper , 12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{color,soul}
\usepackage[english, francais]{babel}
\usepackage[T1]{fontenc}
\usepackage{xcolor, graphicx}    % pour inclusion d'image
\usepackage[colorlinks=true]{hyperref}
\usepackage{setspace}
\usepackage{makeidx}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{colortbl}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{listings}

\usepackage{fancyhdr}
\lhead{Module S2IA030 Techniques à Objets Avancés}
\rhead{M1 ALMA }
\lfoot{Université de Nantes}
\rfoot{2011-2012 }
\renewcommand{\footrulewidth}{1px}
\pagestyle{fancy}


\definecolor{colKeys}{rgb}{0,0,1}
\definecolor{colIdentifier}{rgb}{0,0,0}
\definecolor{colComments}{rgb}{0,0.5,1}
\definecolor{colString}{rgb}{0.6,0.1,0.1}

\lstset{
basicstyle=\ttfamily\small, %
identifierstyle=\color{colIdentifier}, %
keywordstyle=\color{colKeys}, %
stringstyle=\color{colString}, %
commentstyle=\color{colComments}
}
\lstset{language=java}




\title{\bf Rapport de programmation :\\ Eclipse Vision System Plugin}
\author{Teko \bsc{hemazro}}
\date{29 Mars 2012}

\frenchbsetup{StandardLists=true}
\begin{document}

\maketitle
\newpage
\tableofcontents 
\newpage

\section{Présentation générale}
Eclipse Vision System est un plugin est un simple plugin de vision capable de détecter des faits importants à partir d'images extraites d'une vidéo ou d'une webcam et de poster ces images sur un réseau social. Un scénario d'Eclipse Vision System peut se présenter ainsi :
\begin{itemize}
	\item Capture d'images à partir d'une vidéo ou d'une caméra;
	\item Analyse de l'image; 
	\item Traitement de l'image : détection d'effets particuliers sur l'image;
	\item Publication de l'image.
\end{itemize}

Eclipse Vision System est donc architecturé autour d'un plugin central que nous appelerons par la suite {\it visionSystem}. {\it visionSystem} est le plugin de base fournissant plusieurs points d'extensions sur lesquels viendront se greffer les plugins effectuant les traitements enumérés ci-dessus.


\section{Documentation}
La réalisation du projet passe par le développement de plusieurs plugins que nous présenterons individuellement. On trouvera dans les sources les codes et commentaires associés pour chaque plugin au besoin.
VisonSystem est le plugin central. Ce plugin fournit quatre points d'extensions spécifiques sur lesquels peuvent se greffer différents plugins, un poit d'extension par type de plugin.
\begin{itemize}
	\item {\it imageAcquisitionExt} : point d'extension pour les plugins d'acquisition (capture) d'image; 
	\item {\it imageAnalysisExt} : point d'extension pour les plugins d'analyse d'image;
	\item {\it imageReasonigExt} : point d'extension pour les plugins de traitement d'image avant publication; 
	\item {\it imagePublicationExt} :point d'extension pour les plugins de publication d'images.
\end{itemize}  
Les plugins suivants ont été dévéloppés et peuvent être utilisés : 
\begin{itemize}
	\item {\bf imageAcquisitionCamera} : plugin d'acquisition (capture) d'une image à partir d'une video; 
	\item {\bf imageAcquisitionVideo} :  plugin d'acquisition (capture) d'une image à partir d'une webcam;
	\item {\bf imageAnalysis} : plugin d'analyse d'une image; 
	\item {\bf imageReasoning} : plugin de traitement de l'image avant publication;
	\item {\bf imagePublication} : plugin de publication d'images.
\end{itemize}  

\subsection{Mode d'utilisation}
Une fois l'application lancée sous eclipse, l'utilisateur a la possibilité de renseigner un certain nombre de paramètres. pour se faire : 
\begin{itemize}[label=\textbullet,font=\color{red}]
%\begin{itemize}[font=\color{red} \small, label=\ding{212}]
%\begin{itemize}
	\item dans la nouvelle fenêtre eclipse qui s'ouvre, cliquer sur {\it window} ; 
	\item ensuite dans le menu qui s'affiche, cliquer sur {\it Preferences};
	\item renseigner vos paramètres puis sur cliquer sur {\it Apply} et {\it Ok}.
\end{itemize}

\subsubsection{Illustration}
inclure ici quelques captures d'écrans 

\subsection{Utilisation avancée}
Cette section présente plus en détails les différents points d'extension et l'architecture globale du systéme. Les utilisateurs expérimentés peuvent définir des extensions pour les points d'extension qu'offre VisonSystem.
\subsubsection{Points d'extension et interfaces} 
Les différents points d'extensions( {\it imageAcquisitionExt, imageAnalysisExt, imageReasonigExt, imagePublicationExt} ) présentés ci dessus doivent implémenter respectivement chacun les interfaces suivantes : 
\begin{itemize}
	\item IImageAcuquisition : 

	\begin{lstlisting}
	public void run () ;
	public void setIImageAnalysis (IImageAnalysis analyse);
	\end{lstlisting}
	\item IImageAnalysis : 
	\begin{lstlisting}
	public void analyse (BufferedImage img);
	public void setIImageResoning (IImageReasoning imgR);
	\end{lstlisting}

	\item IImageReasoning :
	\begin{lstlisting}
	public void reasonnig (List<Object> o) ;
	public void addIImagePublish (IImagePublication imgP);
	\end{lstlisting}

	\item IImagePublication :
	\begin{lstlisting}
	void publish (String title , String content) ;
	\end{lstlisting}


\end{itemize}

\subsubsection{Architecture globale}
\begin{enumerate}
	\item {\bf VisonSystem} : VisonSystem est le plugin de central. Ce plugin fournit quatre points d'extensions spécifiques pour tout le processus de traitement et définit les interfaces que devront implémenter les plugins clients; A savoir {\it IImageAcuquisition}, {\it IImageAnalysis}, {\it IImageReasoning}, {\it IImagePublication}.
	\item {\bf imageAcquisitionCamera} : plugin d'acquisition (capture) d'une image à partir d'une video. 
	\item {\bf imageAcquisitionVideo} :  plugin d'acquisition (capture) d'une image à partir d'une webcam. \\
Ces deux plugins définissent chacun une extension pour le point d'extension prévu à cet effet par visionSystem. La bibliothèque utilisée ici pour la capture est la bibliothèque {\bf xuggler}. Chacun de ces plugins possèdent dans sa classe d'implémentation un objet de type IImageAnalysis qui est ue interface définissant une méthode d'analyse. Le mode d'opération de ces deux plugins est le même : capture une image , instancie un objet de type IImageAnalysis et délègue l'analyse de cette image à l'objet IImageAnalysis.
...
	\item {\bf imageAnalysis} : plugin d'analyse d'une image. L'analyse de l'image quand à elle a été faite avec le bibliothèque {\bf OpenCv}. Ce plugin définit lui aussi un obejt de IImageReasoning. Ce plugin récoit l'image à traiter de l'un des deux plugins précédents. L'analyse de l'image est effectué puis l'image est aisni délégué au plugin imageReasonig qui lui se charge du traitement final avant la publication. 
...
	\item {\bf imageReasoning} : Ce plugin possède en son sein une liste d'image à publier dans laquelle il range au fur et à mesure les images qui devront être publiées. ...
	\item {\bf imagePublication} : Plugin de publication d'image, recoit les images à publier du plugin imageReasoning puis procède à la publication de celle ci.
	
Comme on peut le constater les différents plugins présentés s'appuient sur des bibliothèques tierces. De ce fait nous créons des plugins qui regroupent ces bibliothèques qui deviennent ainsi des "repository" de bibliothèques tierces. Ceci est une approche parmi tant d'autre. l'avantage de cette approche est qu'elle évite une duplication des archives des bibliothèques dans tous les plugins utilisant ces bibliothèques. Si un plugin utilise une librairie, il suffira juste d'établir une dépendance avec le plugin (repository) contenant cette librairie. Ceci nous emmène donc à créer les deux plugins suivants : 
	\item {\bf javacvPlugin} : repository de plugin pour javaCv  
	\item {\bf xugglerPlugin} : repository de plugin pour xuggler 

\end{enumerate}


\section{Conception}
Le processus de traitement de l'image suis une séquence bien définie. Le
\section{}


\end{document}